{
  "module": {
    "name": "entry",
    "type": "entry",
    "srcEntry": "./ets/Application/MyAbilityStage.ts",
    "description": "$string:callui_description",
    "mainElement": "com.ohos.callui.ServiceAbility",
    "querySchemes": [
      "newcallingdcsdkScheme"
    ],
    "deviceTypes": [
      "default",
      "tablet"
    ],
    "deliveryWithInstall": true,
    "installationFree": false,
    "pages": "$profile:main_pages",
    "metadata": [
      {
        "name": "ArkTSPartialUpdate",
        "value": "true"
      },
      {
        "name": "com.ohos.systemui.notification_setting_ignore",
        "value": "true"
      },
      {
        "name": "support_call_assistant_voicefix",
        "value": "true"
      },
      {
        "name": "support_call_control_and_broadcast",
        "value": "true"
      },
      {
        "name": "action.settings.app.disable_force_stop",
        "value": "true"
      },
      {
        "name": "action.settings.app.can_not_disable",
        "value": "true"
      },
      {
        "name": "support_assistant_autoanswer",
        "value": "true"
      }
    ],
    "abilities": [
      {
        "name": "com.ohos.callui.MainAbility",
        "srcEntry": "./ets/MainAbility/MainAbility.ets",
        "description": "$string:callui_description",
        "icon": "$media:app_icon",
        "label": "$string:callui_description",
        "supportWindowMode": [
          "fullscreen",
          "split",
          "floating"
        ],
        "startWindowIcon": "$media:app_start_window_icon",
        "startWindowBackground": "$color:black",
        "removeMissionAfterTerminate": true,
        "exported": true,
        "unclearableMission": true,
        "minWindowHeight": 700,
        "minWindowWidth": 320,
        "orientation": "follow_desktop",
        "launchType": "singleton",
        "skills": [
          {
            "entities": [
              "entity.system.home"
            ],
            "actions": [
              "action.system.home"
            ]
          }
        ],
        "backgroundModes": [
          "voip"
        ]
      },
      {
        "name": "com.ohos.callui.VoipAbility",
        "srcEntry": "./ets/MainAbility/VoipAbility.ets",
        "description": "$string:voip_description",
        "icon": "$media:app_icon",
        "label": "$string:voip_description",
        "supportWindowMode": [
          "fullscreen",
          "floating"
        ],
        "startWindowIcon": "$media:app_start_window_icon",
        "startWindowBackground": "$color:black",
        "removeMissionAfterTerminate": true,
        "exported": true,
        "unclearableMission": true,
        "minWindowHeight": 700,
        "minWindowWidth": 320,
        "orientation": "follow_desktop",
        "launchType": "singleton",
        "skills": [
          {
            "entities": [
              "entity.system.home"
            ],
            "actions": [
              "action.system.home"
            ]
          }
        ],
        "backgroundModes": [
          "voip"
        ]
      },
      {
        "name": "com.ohos.callui.ExternalCallAbility",
        "srcEntry": "./ets/MainAbility/ExternalCallAbility.ets",
        "description": "$string:callui_description",
        "icon": "$media:app_icon",
        "label": "$string:callui_description",
        "supportWindowMode": [
          "fullscreen"
        ],
        "startWindowIcon": "$media:app_start_window_icon",
        "startWindowBackground": "$color:black",
        "removeMissionAfterTerminate": true,
        "exported": true,
        "unclearableMission": true,
        "minWindowHeight": 226,
        "minWindowWidth": 226,
        "launchType": "singleton",
        "skills": [
          {
            "entities": [
              "entity.system.home"
            ],
            "actions": [
              "action.system.home"
            ]
          }
        ],
        "backgroundModes": [
          "voip"
        ]
      },
      {
        "name": "com.ohos.callui.HiCarMainAbility",
        "srcEntry": "./ets/MainAbility/HiCarMainAbility.ets",
        "description": "$string:callui_description",
        "icon": "$media:app_icon",
        "label": "$string:callui_description",
        "supportWindowMode": [
          "fullscreen"
        ],
        "startWindowIcon": "$media:app_start_window_icon",
        "startWindowBackground": "$color:black",
        "removeMissionAfterTerminate": true,
        "exported": true,
        "unclearableMission": true,
        "minWindowHeight": 226,
        "minWindowWidth": 226,
        "launchType": "singleton",
        "skills": [
          {
            "entities": [
              "entity.system.home"
            ],
            "actions": [
              "action.system.home"
            ]
          }
        ],
        "backgroundModes": [
          "voip"
        ]
      }
    ],
    "extensionAbilities": [
      {
        "description": "$string:callui_description",
        "name": "BackupExtensionAbility",
        "srcEntry": "./ets/backup/BackupExtension.ets",
        "label": "$string:callui_description",
        "type": "backup",
        "exported": false,
        "metadata": [
          {
            "name": "ohos.extension.backup",
            "resource": "$profile:backup_config"
          }
        ]
      },
      {
        "name": "com.ohos.callui.ServiceAbility",
        "icon": "$media:app_icon",
        "description": "service",
        "type": "service",
        "exported": true,
        "srcEntry": "./ets/ServiceAbility/ServiceAbility.ets",
        "label": "$string:callui_description",
        "permissions": [
          "ohos.permission.PLACE_CALL"
        ]
      },
      {
        "name": "com.ohos.callui.IncomingCallRejectionSmsAbility",
        "srcEntry": "./ets/IncomingCallRejectionSmsability/IncomingCallRejectionSmsAbility.ets",
        "description": "$string:incoming_call_rejection_sms",
        "icon": "$media:app_icon",
        "label": "$string:incoming_call_rejection_sms",
        "exported": true,
        "type": "sys/commonUI",
        "permissions": [
          "ohos.permission.GET_TELEPHONY_STATE"
        ]
      },
      {
        "name": "com.ohos.callui.CallFailedDialogAbility",
        "srcEntry": "./ets/CallFailedDialogAbility/CallFailedDialogAbility.ets",
        "description": "CallFailedDialogAbility",
        "exported": true,
        "type": "sysDialog/common",
        "permissions": [
          "ohos.permission.PLACE_CALL"
        ]
      },
      {
        "name": "com.ohos.callui.LeatherUIExtAbility",
        "srcEntry": "./ets/leatheruiextability/LeatherUIExtAbility.ets",
        "description": "LeatherUIExtAbility",
        "icon": "$media:app_icon",
        "exported": true,
        "type": "sys/commonUI",
        "permissions": [
          "ohos.permission.ACCESS_SCREEN_LOCK"
        ]
      }
    ],
    "requestPermissions": [
      {
        "name": "ohos.permission.READ_CALL_LOG",
        "reason": "$string:READ_CALL_LOG",
        "usedScene": {
          "when": "always"
        }
      },
      {
        "name": "ohos.permission.MANAGE_LOCAL_ACCOUNTS",
        "reason": "$string:MANAGE_LOCAL_ACCOUNTS",
        "usedScene": {
          "abilities": [
            "com.ohos.callui.MainAbility"
          ]
        }
      },
      {
        "name": "ohos.permission.WRITE_CONTACTS",
        "reason": "$string:WRITE_CONTACTS",
        "usedScene": {
//          "abilities": [
//            "com.ohos.callui.MainAbility"
//          ],
          "when": "always"
        }
      },
      {
        "name": "ohos.permission.READ_CONTACTS",
        "reason": "$string:READ_CONTACTS",
        "usedScene": {
          "abilities": [
            "com.ohos.callui.MainAbility"
          ],
          "when": "inuse"
        }
      },
      {
        "name": "ohos.permission.SEND_MESSAGES",
        "reason": "$string:SEND_MESSAGES",
        "usedScene": {
          "abilities": [
            "com.ohos.callui.MainAbility"
          ],
          "when": "inuse"
        }
      },
      {
        "name": "ohos.permission.GET_TELEPHONY_STATE",
        "reason": "$string:GET_TELEPHONY_STATE"
      },
      {
        "name": "ohos.permission.PREPARE_APP_TERMINATE",
        "reason": "$string:PREPARE_APP_TERMINATE"
      },
      {
        "name": "ohos.permission.START_ABILITIES_FROM_BACKGROUND",
        "reason": "$string:START_ABILITIES_FROM_BACKGROUND"
      },
      {
        "name": "ohos.permission.KEEP_BACKGROUND_RUNNING",
        "reason": "$string:KEEP_BACKGROUND_RUNNING"
      },
      {
        "name": "ohos.permission.ANSWER_CALL",
        "reason": "$string:ANSWER_CALL",
        "usedScene": {
          "abilities": [
            "com.ohos.callui.MainAbility"
          ],
          "when": "inuse"
        }
      },
      {
        "name": "ohos.permission.VIBRATE",
        "reason": "$string:VIBRATE"
      },
      {
        "name": "ohos.permission.SET_TELEPHONY_STATE",
        "reason": "$string:SET_TELEPHONY_STATE"
      },
      {
        "name": "ohos.permission.ACCELEROMETER",
        "reason": "$string:ACCELEROMETER"
      },
      {
        "name": "ohos.permission.GYROSCOPE",
        "reason": "$string:GYROSCOPE"
      },
      {
        "name": "ohos.permission.MANAGE_SECURE_SETTINGS",
        "reason": "$string:MANAGE_SECURE_SETTINGS"
      },
      {
        "name": "ohos.permission.PLACE_CALL",
        "reason": "$string:PLACE_CALL"
      },
      {
        "name": "ohos.permission.RUNNING_LOCK",
        "reason": "$string:RUNNING_LOCK"
      },
      {
        "name": "ohos.permission.GET_WALLPAPER",
        "reason": "$string:GET_WALLPAPER"
      },
      {
        "name": "ohos.permission.CONNECTIVITY_INTERNAL",
        "reason": "$string:CONNECTIVITY_INTERNAL"
      },
      {
        "name": "ohos.permission.NOTIFICATION_CONTROLLER",
        "reason": "$string:NOTIFICATION_CONTROLLER"
      },
      {
        "name": "ohos.permission.NOTIFICATION_AGENT_CONTROLLER",
        "reason": "$string:NOTIFICATION_CONTROLLER"
      },
      {
        "name": "ohos.permission.START_INVISIBLE_ABILITY",
        "reason": "$string:NOTIFICATION_CONTROLLER"
      },
      {
        "name": "ohos.permission.GET_NETWORK_INFO",
        "reason": "$string:GET_NETWORK_INFO"
      },
      {
        "name": "ohos.permission.SET_UNREMOVABLE_NOTIFICATION",
        "reason": "$string:NOTIFICATION_CONTROLLER"
      },
      {
        "name": "ohos.permission.SUBSCRIBE_NOTIFICATION_WINDOW_STATE",
        "reason": "$string:NOTIFICATION_CONTROLLER"
      },
      {
        "name": "ohos.permission.READ_CALENDAR",
        "reason": "$string:READ_CALENDAR",
        "usedScene": {
          "abilities": [
            "com.ohos.callui.MainAbility"
          ]
        }
      },
      {
        "name": "ohos.permission.WRITE_CALENDAR",
        "reason": "$string:WRITE_CALENDAR",
        "usedScene": {
          "abilities": [
            "com.ohos.callui.MainAbility"
          ]
        }
      },
      {
        "name": "ohos.permission.GET_BUNDLE_INFO",
        "reason": "$string:GET_BUNDLE_INFO"
      },
      {
        "name": "ohos.permission.GET_BUNDLE_RESOURCES",
        "reason": "$string:GET_BUNDLE_INFO"
      },
      {
        "name": "ohos.permission.ACCESS_SCREEN_LOCK",
        "reason": "$string:SCREEN_UNLOCK"
      },
      {
        "name": "ohos.permission.PERMISSION_USED_STATS",
        "reason": "$string:PRIVACY_INDICATION"
      },
      {
        "name": "ohos.permission.START_SYSTEM_DIALOG",
        "reason": "$string:WRITE_CALENDAR",
        "usedScene": {
          "abilities": [
            "com.ohos.callui.MainAbility"
          ]
        }
      },
      {
        "name": "ohos.permission.ACCESS_CAR_DISTRIBUTED_ENGINE",
        "reason": "$string:hicar_connection"
      },
      {
        "name": "ohos.permission.CALLED_UIEXTENSION_ON_LOCK_SCREEN"
      },
      {
        "name": "ohos.permission.securityguard.REPORT_SECURITY_INFO"
      },
      {
        "name": "ohos.permission.POWER_MANAGER"
      },
      {
        "name": "ohos.permission.RESTORE_APP"
      },
      {
        "name": "ohos.permission.STORAGE_MANAGER"
      },
      {
        "name": "ohos.permission.PUBLISH_SYSTEM_COMMON_EVENT"
      },
      {
        "name": "ohos.permission.GET_RUNNING_INFO"
      }
    ]
  }
}